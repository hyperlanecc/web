---
title: "éƒ¨ç½²åˆ°æ–°é“¾"
description: "å…³äºå¦‚ä½•å°†æ‚¨çš„é“¾ä¸ Hyperlane è¿æ¥çš„åˆ†æ­¥æŒ‡å—"
---

<Note>

- æœ¬æŒ‡å—ä»…é€‚ç”¨äº **EVM å…¼å®¹** é“¾ã€‚
- å®ƒå°†å¼•å¯¼æ‚¨å°½å¿«å°† Hyperlane éƒ¨ç½²åˆ°æ–°é“¾ä»¥è¿›è¡Œæµ‹è¯•ï¼Œè€Œéç”Ÿäº§ã€‚è¿™åŒ…æ‹¬æ ¸å¿ƒé‚®ç®±å’Œ ISM åˆçº¦ä»¥åŠç”¨äºèµ„äº§æ¡¥æ¥çš„ Hyperlane Warp è·¯ç”±åˆçº¦ã€‚
- è¦æŸ¥çœ‹å·²æ”¯æŒçš„é“¾ï¼Œè¯·è®¿é—®[æ³¨å†Œè¡¨](https://github.com/hyperlane-xyz/hyperlane-registry/tree/main/chains)ã€‚
- å¦‚æœæ‚¨éœ€è¦ä»»ä½•å¸®åŠ©ï¼Œè¯·åœ¨ Discord çš„ #developers é¢‘é“è”ç³»æˆ‘ä»¬æˆ–[å–å¾—è”ç³»](https://forms.gle/KyRTaWvo4XNmNvrq6)ã€‚

</Note>

## å…ˆå†³æ¡ä»¶

ä»»ä½•äººéƒ½å¯ä»¥åœ¨å…·å¤‡ä»¥ä¸‹æ„ä»¶å’Œèµ„äº§åå¼€å§‹æ­¤å¿«é€Ÿå…¥é—¨æŒ‡å—ï¼š

- æ‚¨é€‰æ‹©çš„æ–°çš„ã€è‡ªå®šä¹‰çš„æˆ–é¢„å…ˆå­˜åœ¨çš„ç½‘ç»œï¼ŒåŒ…æ‹¬ä»¥ä¸‹å…ƒæ•°æ®ï¼š
  - é“¾åç§°ï¼Œä¾‹å¦‚ `ethereum`
  - é“¾ IDï¼Œä¾‹å¦‚ `1`
  - RPC URLï¼Œä¾‹å¦‚ `https://eth.llamarpc.com`
- éƒ¨ç½²è€…é’±åŒ…/EOA ç§é’¥æˆ–åŠ©è®°è¯
  - æ­¤ EOA åº”åœ¨æ‚¨çš„è‡ªå®šä¹‰é“¾å’Œæ‚¨å°†å‘å…¶å‘é€æ¶ˆæ¯å’Œä»ä¸­å‘é€æ¶ˆæ¯çš„ä»»ä½•é“¾ä¸Šæä¾›èµ„é‡‘
- [Hyperlane CLI](/docs/reference/developer-tools/cli)

## 1. æ³¨å†Œè¡¨

è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰é“¾é…ç½®ï¼Œè¿è¡Œï¼š

```bash
hyperlane registry init
```

æŒ‰ç…§æç¤ºè®¾ç½®æ‚¨çš„é“¾å…ƒæ•°æ®ã€‚è®¾ç½®åŒºå—æˆ– Gas å±æ€§æ˜¯å¯é€‰çš„ã€‚

ç°åœ¨ï¼Œåœ¨ `$HOME/.hyperlane/chains` ä¸‹ï¼Œæ‚¨å°†æ‰¾åˆ°ä¸€ä¸ªä»¥æ‚¨çš„è‡ªå®šä¹‰é“¾åç§°å‘½åçš„æ–°æ–‡ä»¶å¤¹ï¼Œä»¥åŠè¯¥æ–‡ä»¶å¤¹å†…åä¸º `metadata.yaml` çš„æ–‡ä»¶ã€‚

<details> 
  <summary>
    æ­¤é…ç½®åœ¨ `$HOME/.hyperlane/chains/yourchain/metadata.yaml` çš„ç¤ºä¾‹å†…å®¹
  </summary>

```yaml
# yaml-language-server: $schema=../schema.json
# æ‚¨çš„è‡ªå®šä¹‰é“¾çš„å…ƒæ•°æ®

blockExplorers:
  - apiUrl: https://explorer.yourchain.com/api
    apiKey: XXXX # æœ‰åŠ©äºé¿å…åˆçº¦éªŒè¯ API çš„é€Ÿç‡é™åˆ¶
    family: etherscan #æ‚¨ä½¿ç”¨çš„æµè§ˆå™¨ï¼Œä¹Ÿæ”¯æŒ routescan æˆ– blockscout
    name: Chainscan
    url: https://explorer.yourchain.com
blocks:
  confirmations: 1
  estimateBlockTime: 1
  reorgPeriod: 0
chainId: 171717
displayName: Chain Name
domainId: 171717
isTestnet: true # å¯é€‰
name: yourchain
nativeToken:
  name: Ether
  symbol: ETH
  decimals: 18
protocol: ethereum
rpcUrls:
  - http: https://hyper-lane-docs.rpc.caldera.xyz/http
```

</details>

## 2. æ ¸å¿ƒ

æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬é…ç½®ã€éƒ¨ç½²å’Œæµ‹è¯•æ‚¨è‡ªå®šä¹‰é“¾çš„æ ¸å¿ƒåˆçº¦ã€‚

### åˆå§‹åŒ–é…ç½®

1. ä»æ‚¨çš„æœ¬åœ°ç¯å¢ƒï¼Œå°†æ‚¨å·²èµ„åŠ©çš„éƒ¨ç½²è€…åœ°å€çš„ç§é’¥æˆ–åŠ©è®°è¯è®¾ç½®ä¸º `HYP_KEY`ã€‚ä¾‹å¦‚ï¼š`export HYP_KEY='<YOUR_PRIVATE_KEY>'`
2. ä»åŒä¸€ç»ˆç«¯å®ä¾‹ï¼Œè¿è¡Œï¼š

```bash
hyperlane core init
```

<details>
  <summary>
    éƒ¨ç½²é…ç½®å°†å†™å…¥ `./configs/core-config.yaml`
  </summary>

```yaml
# æ‹¥æœ‰å’Œç®¡ç†å·²éƒ¨ç½²åˆçº¦çš„åœ°å€ã€‚æ­¤è´¦æˆ·å…·æœ‰ç®¡ç†å‘˜æƒé™ã€‚
owner: "0x16F4898F47c085C41d7Cc6b1dc72B91EA617dcBb"

# é»˜è®¤è·¨é“¾å®‰å…¨æ¨¡å— (ISM) é…ç½®ã€‚
defaultIsm:
  #`type`: æŒ‡å®š ISM çš„ç±»å‹ã€‚è¿™é‡Œï¼Œå®ƒä½¿ç”¨å—ä¿¡ä»»çš„ä¸­ç»§å™¨ ismã€‚
  type: trustedRelayerIsm
  #`relayer`: è´Ÿè´£å¤„ç†è·¨é“¾æ¶ˆæ¯çš„ä¸­ç»§å™¨åœ°å€ã€‚
  relayer: "0x16F4898F47c085C41d7Cc6b1dc72B91EA617dcBb"

defaultHook:
  # æŒ‡å®šä½¿ç”¨é»˜å…‹å°”æ ‘çš„é’©å­é…ç½®ã€‚
  type: merkleTreeHook

requiredHook:
  # è´Ÿè´£ç®¡ç†é’©å­é…ç½®çš„æ‰€æœ‰è€…åœ°å€ã€‚
  owner: "0x16F4898F47c085C41d7Cc6b1dc72B91EA617dcBb"
  # é’©å­çš„ç±»å‹ã€‚è¿™ä¸ªåº”ç”¨åè®®è´¹ç”¨æœºåˆ¶ã€‚
  type: protocolFee
  # æ¥æ”¶åè®®è´¹ç”¨çš„åœ°å€ã€‚
  beneficiary: "0x16F4898F47c085C41d7Cc6b1dc72B91EA617dcBb"
  # åè®®å…è®¸çš„æœ€å¤§è´¹ç”¨ï¼Œä»¥ wei ä¸ºå•ä½ã€‚
  maxProtocolFee: "100000000000000000"
  # åè®®æ”¶å–çš„å½“å‰è´¹ç”¨ï¼Œä¸ºæµ‹è¯•ç›®çš„è®¾ç½®ä¸º 0ã€‚
  protocolFee: "0"
```

</details>

### éƒ¨ç½²åˆçº¦

è¦éƒ¨ç½²åˆçº¦ï¼Œè¿è¡Œï¼š

```bash
hyperlane core deploy
```

ä½¿ç”¨ç®­å¤´å’Œå›è½¦ä»ä¸»ç½‘åˆ—è¡¨åº•éƒ¨é€‰æ‹©æ‚¨çš„è‡ªå®šä¹‰é“¾ã€‚æ‰€æœ‰åˆçº¦éƒ¨ç½²éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ã€‚

<details>
  <summary>
    åœ¨ `$HOME/.hyperlane/chains` ä¸‹ï¼Œæ‚¨å°†æ‰¾åˆ°ä¸€ä¸ªä»¥æ‚¨çš„è‡ªå®šä¹‰é“¾åç§°å‘½åçš„æ–°æ–‡ä»¶å¤¹ï¼Œä»¥åŠè¯¥æ–‡ä»¶å¤¹å†…åä¸º `addresses.yaml` çš„æ–‡ä»¶
  </summary>

```yaml
staticMerkleRootMultisigIsmFactory: "0x6906cb4741d3E2322E9f9aA645DfC8AB6F122c47"
staticMessageIdMultisigIsmFactory: "0x3CE97a32d9C8294691cBd2baC09B078EDa75c429"
staticAggregationIsmFactory: "0x81f969fDBF48278Ce09685Ce48e03388B6785aF4"
staticAggregationHookFactory: "0x3d864A3c25F61E3c3A7d02e980453A6E1f0a92A6"
domainRoutingIsmFactory: "0xC4c01f7B03f0fFa77A0265C600dEF7Ad28BCa5A2"
proxyAdmin: "0xABb7175d5F123172E7B7Fa467CC9fE4C2FEdb942"
mailbox: "0x5F58d75A9caDE4e2b191313223978dF049f93b81"
interchainAccountRouter: "0x43c0745b0dE9Cb780816a24ddE63d79Ca99B5dE8"
interchainAccountIsm: "0x9C96dC8f4257413225d6B5C47d1afbafc39B269F"
validatorAnnounce: "0xE3bd39BF92DB385dE6313D6070b035bD934378CB"
testRecipient: "0xa58462b1943Be1469Ed58db690C78583BA34Fd2E"
```

</details>

<Warning>
  - `eth_getStorageAt()` å…¼å®¹æ€§ï¼šæŸäº›é“¾å¯èƒ½ä¸ä½¿ç”¨ [`eth_getStorageAt()`](https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_getstorageat) APIã€‚å¦‚æœæ‚¨çš„éƒ¨ç½²é‡åˆ°ç›¸å…³é—®é¢˜ï¼Œè¯·å‚è€ƒ[æ•…éšœæ’é™¤æŒ‡å—](/docs/guides/deploy-hyperlane-troubleshooting#eth-getstorageat-compatibility)ã€‚
</Warning>

### å‘é€æµ‹è¯•æ¶ˆæ¯

è¦å‘é€æµ‹è¯•æ¶ˆæ¯ï¼Œè¿è¡Œï¼š

```bash
hyperlane send message --relay
```

`--relay` æ ‡å¿—æ˜¯å¯é€‰çš„ï¼Œå°†æ¶ˆæ¯ä¼ é€’åˆ°ç›®æ ‡é“¾ã€‚

æ‚¨ä¹Ÿå¯ä»¥åœ¨åå°è¿è¡Œä¸­ç»§å™¨ï¼š

```bash
hyperlane relayer --chains yourchain,sepolia
```

<Check>
  **ğŸ‰ æ­å–œï¼æ‚¨å·²æˆåŠŸå‘æ‚¨çš„è‡ªå®šä¹‰é“¾å‘é€äº†æ¶ˆæ¯**
</Check>

## 3. Hyperlane Warp è·¯ç”±

ç°åœ¨æ‚¨çš„é“¾ä¸Šæœ‰äº† Hyperlane é‚®ç®±å’Œæ ¸å¿ƒåˆçº¦ï¼Œæ˜¯æ—¶å€™åœ¨æ‚¨çš„é“¾å’Œä»»ä½•å…¶ä»– Hyperlane é“¾ä¹‹é—´è®¾ç½®ä»£å¸æ¡¥æ¥äº†ã€‚

ç»§ç»­æŸ¥çœ‹[éƒ¨ç½² Hyperlane Warp è·¯ç”±](/docs/guides/quickstart/deploy-warp-route)æ–‡æ¡£äº†è§£æ›´å¤šè¯¦ç»†ä¿¡æ¯ã€‚

## 4. æäº¤åˆ°æ³¨å†Œè¡¨

å¦‚æœæ‚¨å¸Œæœ›å…¶ä»–é“¾ä¹Ÿèƒ½ä¸æ‚¨è¿æ¥ä»¥åŠå°†æ­¤æŠ•å…¥ç”Ÿäº§ï¼Œè¯·æäº¤æ³¨å†Œè¡¨ PRã€‚

### ç¡®ä¿ä¿¡æ¯å®Œæ•´

ç¡®ä¿æ‚¨çš„å…ƒæ•°æ®å®Œæ•´ï¼š

- åœ¨æ–‡ä»¶å¤¹å†…æ·»åŠ  `logo.svg` æ–‡ä»¶
- åŒ…æ‹¬æ ‡è¯†éƒ¨ç½²å›¢é˜Ÿçš„ `Deployer` ä¿¡æ¯
- å¦‚æœé“¾æ˜¯æµ‹è¯•ç½‘ï¼Œåˆ™è¡¨ç¤º `isTestnet` `true`
- å¦‚æœæ‚¨æœ‰ gnosis safe æœåŠ¡ï¼Œæ·»åŠ  api url `gnosisSafeTransactionServiceUrl`
- æ£€æŸ¥ yaml æ–‡ä»¶å¹¶æŒ‰å­—æ¯é¡ºåºæ’åº

### æäº¤åˆ° GitHub

é¦–å…ˆï¼Œå¯¼èˆªåˆ°æ‚¨çš„æœ¬åœ°æ³¨å†Œè¡¨å®ä¾‹å¹¶æäº¤æ›´æ”¹

```bash
cd ~/.hyperlane && git init && git add . && git commit
```

ç„¶åï¼Œå°†æœ¬åœ°æ³¨å†Œè¡¨ä¸è§„èŒƒæ³¨å†Œè¡¨åŒæ­¥

```bash
git remote add canonical git@github.com:hyperlane-xyz/hyperlane-registry.git
git pull canonical main --rebase
```

æœ€åï¼Œå°†æœ¬åœ°æ³¨å†Œè¡¨æ¨é€åˆ° github fork å¹¶æäº¤ PRã€‚è¯·åœ¨æ‚¨çš„ PR ä¸­åŒ…å«ä¸€ä¸ª[å˜æ›´é›†](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md)ã€‚

<Check>
**æ­å–œï¼æ‚¨å·²æˆåŠŸå°† Hyperlane éƒ¨ç½²åˆ°æ‚¨çš„é“¾å¹¶å°†æ‚¨çš„å·¥ä½œæ·»åŠ åˆ° Hyperlane æ³¨å†Œè¡¨**

æ„Ÿè°¢æ‚¨ä¸ºæ— éœ€è®¸å¯äº’æ“ä½œæ€§çš„æœªæ¥åšå‡ºè´¡çŒ® ğŸ«¡

</Check>