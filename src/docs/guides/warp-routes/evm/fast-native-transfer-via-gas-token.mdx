---
title: "é€šè¿‡è‡ªå®šä¹‰ Gas ä»£å¸å®ç°å¿«é€ŸåŸç”Ÿè½¬è´¦"
---

æœ¬æ–‡æ¡£å°†æŒ‡å¯¼æ‚¨å¦‚ä½•ä½¿ç”¨ Hyperlane é€šè¿‡è‡ªå®šä¹‰ gas ä»£å¸å®ç°ä¸æ‚¨çš„ L2 ä¹‹é—´çš„å¿«é€ŸåŸç”Ÿè½¬è´¦ã€‚

## ä¸»è¦åŠ¨æœº

1. åˆ›å»ºåœ¨æ‚¨é€‰æ‹©çš„ L2 ä¸Šä½¿ç”¨çš„è‡ªå®šä¹‰ gas ä»£å¸ã€‚
2. ä½¿ç”¨æ­¤ gas ä»£å¸å¯ç”¨å¿«é€ŸåŸç”Ÿè½¬è´¦ï¼Œè€Œä¸æ˜¯é€šè¿‡è§„èŒƒæ¡¥æ¥å™¨ç­‰å¾…æ¼«é•¿çš„ç»“ç®—æ—¶é—´ã€‚

## å‰ç½®æ¡ä»¶

è¦å®Œæˆä»¥ä¸‹æ“ä½œæ­¥éª¤ï¼Œæ‚¨åº”è¯¥å…·å¤‡ä»¥ä¸‹æ¡ä»¶ï¼š

1. ä¸€ä¸ª L2 ç½‘ç»œï¼ˆ"yourchain"ï¼‰ï¼Œæ‚¨èƒ½å¤Ÿåœ¨å…¶ä¸ŠæŒ‡å®š[è‡ªå®šä¹‰ gas ä»£å¸](https://docs.arbitrum.io/launch-orbit-chain/how-tos/use-a-custom-gas-token)å¹¶å¸Œæœ›å¯ç”¨ä¸å…¶ä¹‹é—´çš„å¿«é€ŸåŸç”Ÿè½¬è´¦ã€‚
2. å”¯ä¸€çš„éƒ¨ç½²è€…æˆ–æˆæƒæ‰€æœ‰è€…æ¥æ¥æ”¶æ”¶æ®ä»£å¸çš„é“¸é€ ï¼ˆä¸‹é¢æœ‰å…³æ­¤ä»£å¸çš„æ›´å¤šä¿¡æ¯ï¼‰ã€‚
3. å·²å®‰è£…çš„ [Hyperlane CLI](https://docs.hyperlane.xyz/docs/reference/developer-tools/cli) å®ä¾‹å’Œæ¥æºä¸º `HYP_KEY` çš„é’±åŒ…ç§é’¥ï¼Œåœ¨æ‰€æœ‰ç›¸å…³ç½‘ç»œä¸Šæœ‰èµ„é‡‘ã€‚

## æ“ä½œæ­¥éª¤ï¼šå¿«é€ŸåŸç”Ÿè½¬è´¦

<Info>
  - è¯·æ³¨æ„ï¼Œä¸‹é¢çš„"æ”¶æ®ä»£å¸"æ˜¯ä¸€ä¸ªï¼ˆä¸€æ¬¡æ€§ï¼‰å¯é“¸é€ çš„"è™šæ‹Ÿ"ä»£å¸ï¼Œç”¨äºåœ¨ yourchain å¯¹åº”çš„ L1 ä¸ŠæŠµæŠ¼ warp-routeã€‚æ‚¨å°†åœ¨åˆ›å»ºåé”€æ¯è¯¥ä»£å¸çš„é“¸é€ æƒã€‚ - å¦å¤–ï¼Œæ ¹æ®æ‚¨çš„ L2ï¼Œæ‚¨çš„è‡ªå®šä¹‰ gas ä»£å¸çš„ä»£å¸ç¬¦å·å¯èƒ½ä¼šè¢«åˆ†é…ä¸æ‚¨çš„æ”¶æ®ä»£å¸ç›¸åŒçš„ç¬¦å·ã€‚å¦‚æœåœ¨ ethereum ä¸Šéƒ¨ç½²ï¼Œæ‚¨å¯èƒ½å¸Œæœ›å°†ç¬¦å·è®¾ç½®ä¸º `ETH`ã€‚
</Info>

### 1. éƒ¨ç½²æ”¶æ®ä»£å¸

åœ¨ ethereum ä¸Šéƒ¨ç½² `ETH` æ”¶æ®ä»£å¸ï¼Œæˆä¸ºæ‚¨ L2 çš„è‡ªå®šä¹‰ gas ä»£å¸ã€‚

1. ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥é€šè¿‡ [Remix](https://remix.ethereum.org/) ä½¿ç”¨æœ‰èµ„é‡‘çš„é’±åŒ…å’Œç±»ä¼¼ä»¥ä¸‹çš„åˆçº¦éƒ¨ç½²æ‚¨çš„æ”¶æ®ä»£å¸ï¼š

   ```solidity
   // SPDX-License-Identifier: MIT
   pragma solidity ^0.8.20;

   import "@openzeppelin/contracts/token/ERC20/ERC20.sol";

   contract YourchainETH is ERC20 {
       constructor() ERC20("YourchainETH", "ETH") {
           _mint(msg.sender, 10000000 * (10 ** 18));
       }
   }
   ```

2. ç¡®ä¿æ‚¨çš„ `ETH` æ”¶æ®ä»£å¸çš„ 100% æ€»ä¾›åº”é‡é“¸é€ ç»™éƒ¨ç½²è€…æˆ–é€‰æ‹©çš„æˆæƒåœ°å€ã€‚è¿™å¿…é¡»æ˜¯ä¸€æ¬¡æ€§é“¸é€ äº‹ä»¶ï¼Œä»¥é¿å…ä¸‹é¢çš„ ethereum â†” yourchain åŸç”Ÿ HWR çš„ä»·å€¼ç¨€é‡Šã€‚
3. éƒ¨ç½²åï¼Œä¿å­˜åˆçº¦åœ°å€ä»¥ä¾›ä¸‹é¢ä½¿ç”¨ã€‚

### 2. è®¾ç½®è‡ªå®šä¹‰ Gas ä»£å¸

å°† yourchain ä¸Šçš„è‡ªå®šä¹‰ gas ä»£å¸è®¾ç½®ä¸ºæ–°éƒ¨ç½²çš„ `ETH` ERC20 æ”¶æ®ä»£å¸ã€‚

1. ä½¿ç”¨ OP stack è®¾ç½®è‡ªå®šä¹‰ gas ä»£å¸ï¼šhttps://docs.optimism.io/builders/chain-operators/features/custom-gas-token
2. ä½¿ç”¨ arbitrum orbit è®¾ç½®è‡ªå®šä¹‰ gas ä»£å¸ï¼šhttps://docs.arbitrum.io/launch-orbit-chain/how-tos/use-a-custom-gas-token

### 3. è½¬ç§»æ‰€æœ‰æ”¶æ®ä»£å¸

ä½¿ç”¨æ‚¨çš„ L2 è§„èŒƒæ¡¥æ¥å™¨å°† 100% çš„ `ETH` æ”¶æ®ä»£å¸ä» ethereum è½¬ç§»åˆ° yourchainã€‚

1. ä½¿ç”¨ OP stack æ ‡å‡†æ¡¥æ¥å™¨è½¬ç§»ï¼šhttps://docs.optimism.io/builders/app-developers/bridging/standard-bridge
2. ä½¿ç”¨ arbitrum orbit æ¡¥æ¥å™¨è½¬ç§»ï¼šhttps://docs.arbitrum.io/launch-orbit-chain/how-tos/add-orbit-chain-to-bridge-ui

### 4. éƒ¨ç½²åŸç”Ÿ Hyperlane Warp Route (HWR)

ä½¿ç”¨ Hyperlane CLIï¼Œéƒ¨ç½² ethereum `ETH` EvmHypNative â†” yourchain `ETH` EvmHypNative HWRï¼š

1. è¿è¡Œ `hyperlane warp init` å¹¶å®Œæˆä»¥ä¸‹æµç¨‹ï¼š
   1. ä½¿ç”¨ç©ºæ ¼é€‰æ‹© `ethereum` å’Œ `yourchain`ï¼Œç„¶åæŒ‰å›è½¦ã€‚
   2. å¯¹äº ethereumï¼Œé€‰æ‹© `native` å¹¶æ¥å— mailboxã€‚
   3. å¯¹äº yourchainï¼Œé€‰æ‹© `native` å¹¶æ¥å— mailboxã€‚
2. åœ¨æ‰§è¡Œéƒ¨ç½²ä¹‹å‰ï¼Œç¡®ä¿ yourchain çš„ `metadata.yaml` å®šä¹‰äº† `blockExplorers` å­—æ®µã€‚è¿™å°†æ˜¯åˆçº¦éªŒè¯æ‰€éœ€çš„ï¼Œä»¥ä¾¿è½»æ¾æŠµæŠ¼ yourchain çš„ HWRã€‚
3. è¿è¡Œ `hyperlane warp deploy` å¹¶ç¡®è®¤ warp éƒ¨ç½²é…ç½®ç¬¦åˆé¢„æœŸã€‚
4. æ‰§è¡Œåï¼Œæ‚¨çš„ `yourchain-ethereum-config.yaml` éƒ¨ç½²æ–‡ä»¶å°†ç±»ä¼¼äºä»¥ä¸‹å†…å®¹ï¼š

   ```solidity
   # yaml-language-server: $schema=../schema.json
   tokens:
     - addressOrDenom: "0x3e5bB1a03fef5DB15A320885E6A0C8Bff8b656bd"
       chainName: yourchain
       connections:
         - token: ethereum|ethereum|0x6d64832bDB4F04721D4F23CCbF17326cb636101e
       decimals: 18
       name: Ether
       standard: EvmHypNative
       symbol: ETH
     - addressOrDenom: "0x6d64832bDB4F04721D4F23CCbF17326cb636101e"
       chainName: ethereum
       connections:
         - token: ethereum|yourchain|0x3e5bB1a03fef5DB15A320885E6A0C8Bff8b656bd
       decimals: 18
       name: Ether
       standard: EvmHypNative
       symbol: ETH

   ```

### 5. æŠµæŠ¼æ‚¨çš„ HWR

é€šè¿‡ `receive()` å‡½æ•°å°† yourchain `ETH` ä½œä¸ºæŠµæŠ¼å“å­˜å…¥ yourchain çš„åŸç”Ÿ HWRã€‚å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å·²éªŒè¯çš„åˆçº¦é€šè¿‡æ‰«æå™¨çš„ UI æˆ– Metamask ç­‰é’±åŒ…æ‰§è¡Œæ­¤æ“ä½œ

è¿™æŠµæŠ¼äº†åŸç”Ÿ HWRï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿå¿«é€Ÿå°†å…¶åŸç”Ÿèµ„äº§æ¡¥æ¥åˆ° yourchain å’Œä» yourchain æ¡¥æ¥ã€‚

### 6. æµ‹è¯•

æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨å•ä¸ª wei çš„æµ‹è¯•è½¬è´¦ï¼š

```bash
hyperlane warp send --relay --symbol ETH
```

`--relay` æ ‡å¿—æ˜¯å¯é€‰çš„ï¼Œå°†æ¶ˆæ¯ä¸­ç»§åˆ°ç›®æ ‡é“¾ã€‚

æ‚¨ä¹Ÿå¯ä»¥åœ¨åå°è¿è¡Œä»…ä¸ºæ‚¨çš„ HWR æä¾›æœåŠ¡çš„ relayer (ä¸­ç»§å™¨)ï¼š

```bash
hyperlane relayer --symbol TOKEN
```

æ‚¨å¯ä»¥åœ¨è®¾ç½® HWR çš„ä»»ä½•æ–¹å‘è¿›è¡Œæµ‹è¯•ã€‚

<Info>
  é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‚¨çš„ warp æ ¸å¿ƒé…ç½®ä½äºæœ¬åœ° Registry çš„ `$HOME/.hyperlane/deployments/warp_routes` ä¸­ï¼Œä¸ `--warp` æ ‡å¿—ä¸€èµ·ä½¿ç”¨ã€‚
</Info>

<Check>
  ğŸ‰ æ­å–œï¼æ‚¨ç°åœ¨å·²ç»é€šè¿‡æ‚¨çš„ L2 ä¸Šçš„è‡ªå®šä¹‰ gas ä»£å¸å¯ç”¨äº†ä¸ yourchain ä¹‹é—´çš„å¿«é€ŸåŸç”Ÿè½¬è´¦ã€‚
</Check>

```mermaid
sequenceDiagram
		box ethereum L1
	    participant ycETH as ETH (ERC20)
			participant ETH as ETH (Native)
    end
		box yourchain L2
	    participant yETH as ETH (Native)
    end

    Note over yETH: 1) set custom gas<br>token to ycETH
    ycETH-->>yETH: 2) transfer 100%<br>of receipt token
    yETH-->>yETH: 3) deposit native<br>as collateral
    yETH-->ETH: <- fast ETH transfer ->
```

<Warning>
  è¯·æ³¨æ„ï¼Œæ­¤æŠµæŠ¼ç­–ç•¥æ‰¿æ‹…æŸäº› ISM ä¿¡ä»»å‡è®¾ã€‚
</Warning>

## èµ„æº

æŸ¥çœ‹ [inEVM bridge](https://bridge.inevm.com/) ä»¥äº†è§£è¿™äº› HWRs çš„å®é™…åº”ç”¨ç¤ºä¾‹ã€‚

æŸ¥çœ‹ç”± Hyperlane æ”¯æŒå›¢é˜Ÿå’Œ Injective å‘å¸ƒçš„ä¸€äº›é™„åŠ ä¿¡æ¯ï¼š

- [inEVM Spotlight: Hyperlane](https://blog.injective.com/en/inevm-spotlight-hyperlane-2/)
- [Connecting Injective: Hyperlane Opens the inEVM Bridge](https://medium.com/hyperlane/connecting-injective-hyperlane-opens-the-inevm-bridge-6f1d3edf0ff8)
- [Hyperlane and Injective | Expanding opportunities](https://medium.com/@kobriyyu/hyperlane-and-injective-expanding-opportunities-8ce170b72da7)